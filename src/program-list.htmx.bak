<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/paper-checkbox/paper-checkbox.html">
<link rel="import" href="../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../bower_components/iron-list/iron-list.html">
<link rel="import" href="sut-resultset-result.html">

<dom-module id="program-list">
    <template>
        <style>
            :host {
                display: block;
                padding: 16px;
            }
            iron-ajax { height: 100vh; }
        </style>

        <iron-ajax
                auto
                url="//5.165.186.188:8080/api/v1/test-runs/"
                params
                handle-as="json"
                last-response="{{resultSet}}"
                debounce-duration="300"></iron-ajax>

        <!-- <paper-checkbox>Ready to deploy!</paper-checkbox>-->
        <iron-list
            items="[[resultSet.results]]"
            as="item">
            <template>
                <div>
                    <sut-resultset-result result="[[item]]"></sut-resultset-result>
                </div>
            </template>
        </iron-list>
    </template>
</dom-module>

<script>
    class ProgramList extends Polymer.Element {
        static get is() { return "program-list"; }
    }

    customElements.define(ProgramList.is, ProgramList);
</script>
